<%- include("./partials/header.ejs") %>

  <div class="page-wrapper">
    <div class=" mt-4">
      <div class="card shadow-sm p-4">
          <h4 class="mb-3 text-primary">Dashboard - Manage Books</h4>
  
          <!-- Total books count -->
          <div class="alert alert-info text-center fw-bold">
              Total Books: <%= books.length %>
          </div>
  
          <!-- Books Table -->
          <div class="table-responsive">
              <table class="table table-bordered table-hover text-center">
                  <thead class="table-dark">
                      <tr>
                          <th>Book</th>
                          <th>Cover Image</th>
                          <th>Actual Price</th>
                          <th>Final Price</th>
                          <th>Action</th>
                      </tr>
                  </thead>
                  <tbody>
                      <% books.forEach(book => { %>
                          <tr>
                              <td class="align-middle"><%= book.bookName %></td>
                              <td class="align-middle">
                                  <img src="<%= book.imgUrl %>" alt="Book Cover" class="img-thumbnail" style="width: 60px; height: auto;">
                              </td>
                              <td class="align-middle text-danger fw-bold">₹<%= book.actualPrice %></td>
                              <td class="align-middle text-success fw-bold">₹<%= book.finalPrice %></td>
                              <td class="align-middle">
                                  <a href="/adminPanel/edit/<%= book._id %>" class="btn btn-sm btn-warning me-2">Edit</a>
                                  <a href="/adminPanel/delete/<%= book._id %>" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?')">Delete</a>
                              </td>
                          </tr>
                      <% }); %>
                  </tbody>
              </table>
          </div>
      </div>
  </div>

  <%- include("./partials/footer.ejs") %>